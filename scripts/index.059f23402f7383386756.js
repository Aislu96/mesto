(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(void 0,o=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,"string");if("object"!==e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i.key),"symbol"===e(o)?o:String(o)),i)}var o}function n(e,t){i(e,t),t.add(e)}function r(e,t,n){i(e,t),t.set(e,n)}function i(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function o(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function a(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,u(e,t,"get"))}function l(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,u(e,t,"set"),n),n}function u(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var s=new WeakMap,c=new WeakMap,p=new WeakMap,d=new WeakMap,f=new WeakMap,h=new WeakMap,v=new WeakMap,m=new WeakMap,y=new WeakMap,b=new WeakSet,w=new WeakSet,_=new WeakSet,S=new WeakSet,k=function(){function e(t,i){var o=t.name,a=t.link,u=t.openPopupCards;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n(this,S),n(this,_),n(this,w),n(this,b),r(this,s,{writable:!0,value:void 0}),r(this,c,{writable:!0,value:void 0}),r(this,p,{writable:!0,value:void 0}),r(this,d,{writable:!0,value:void 0}),r(this,f,{writable:!0,value:void 0}),r(this,h,{writable:!0,value:void 0}),r(this,v,{writable:!0,value:void 0}),r(this,m,{writable:!0,value:void 0}),r(this,y,{writable:!0,value:void 0}),l(this,p,o),l(this,d,a),l(this,c,i),l(this,f,u)}var i,u;return i=e,(u=[{key:"createCard",value:function(){l(this,s,o(this,b,g).call(this)),l(this,m,a(this,s).querySelector(".element__image")),l(this,v,a(this,s).querySelector(".element__delete"));var e=a(this,s).querySelector(".element__group");return l(this,y,e.querySelector(".element__text")),l(this,h,e.querySelector(".element__button")),a(this,y).textContent=a(this,p),a(this,m).src=a(this,d),a(this,m).alt=a(this,p),o(this,S,C).call(this),a(this,s)}}])&&t(i.prototype,u),Object.defineProperty(i,"prototype",{writable:!1}),e}();function g(){return document.querySelector(a(this,c)).content.querySelector(".element").cloneNode(!0)}function E(){a(this,h).classList.toggle("element__button_active")}function q(){a(this,s).remove(),l(this,s,null)}function C(){var e=this;a(this,h).addEventListener("click",(function(){o(e,w,E).call(e)})),a(this,v).addEventListener("click",(function(){o(e,_,q).call(e)})),a(this,m).addEventListener("click",(function(){a(e,f).call(e,a(e,m),a(e,y))}))}function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function L(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==W(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===W(i)?i:String(i)),r)}var i}function M(e,t){P(e,t),t.add(e)}function T(e,t,n){P(e,t),t.set(e,n)}function P(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function A(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function O(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,B(e,t,"get"))}function V(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,B(e,t,"set"),n),n}function B(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var z=new WeakMap,D=new WeakMap,H=new WeakMap,I=new WeakMap,N=new WeakMap,U=new WeakMap,$=new WeakSet,F=new WeakSet,G=new WeakSet,J=new WeakSet,K=new WeakSet,Q=new WeakSet,R=new WeakSet,X=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),M(this,R),M(this,Q),M(this,K),M(this,J),M(this,G),M(this,F),M(this,$),T(this,z,{writable:!0,value:void 0}),T(this,D,{writable:!0,value:void 0}),T(this,H,{writable:!0,value:void 0}),T(this,I,{writable:!0,value:void 0}),T(this,N,{writable:!0,value:void 0}),T(this,U,{writable:!0,value:void 0}),V(this,z,n),V(this,N,O(this,z).querySelector(t.formSelector)),V(this,D,t),V(this,H,t.inputSelector),V(this,I,O(this,z).querySelector(O(this,D).submitButtonSelector)),V(this,U,O(this,z).querySelectorAll(O(this,H)))}var t,n;return t=e,(n=[{key:"resetValidation",value:function(){var e=this;A(this,G,ee).call(this),L(O(this,U)).forEach((function(t){var n=O(e,z).querySelector("#".concat(t.name,"-error"));A(e,K,ne).call(e,t,n)}))}},{key:"hangHandlerSubmit",value:function(){A(this,R,ie).call(this)}}])&&x(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Y(){O(this,I).disabled="disabled",O(this,I).classList.add(O(this,D).inactiveButtonClass)}function Z(){O(this,I).disabled=!1,O(this,I).classList.remove(O(this,D).inactiveButtonClass)}function ee(){O(this,N).checkValidity()?A(this,F,Z).call(this):A(this,$,Y).call(this)}function te(e,t){e.classList.add(O(this,D).inputErrorClass),t.textContent=e.validationMessage}function ne(e,t){e.classList.remove(O(this,D).inputErrorClass),t.textContent=""}function re(e){e.setCustomValidity("");var t=O(this,z).querySelector("#".concat(e.name,"-error"));e.validity.valid?A(this,K,ne).call(this,e,t):A(this,J,te).call(this,e,t)}function ie(){var e=this;A(this,G,ee).call(this),L(O(this,U)).forEach((function(t){t.addEventListener("input",(function(){A(e,G,ee).call(e),A(e,Q,re).call(e,t)}))})),O(this,z).addEventListener("submit",(function(t){t.preventDefault(),O(e,N).checkValidity()&&A(e,$,Y).call(e)}))}var oe=document.querySelectorAll(".popup"),ae=document.querySelector(".profile__edit-button"),le=document.querySelector(".profile__add-button"),ue=document.querySelector(".profile__title"),se=document.querySelector(".profile__subtitle"),ce=document.querySelector(".popup__close_image"),pe=document.querySelector(".popup__close_profile"),de=document.querySelector(".popup__close_place"),fe=document.querySelector(".popup_edit_profile"),he=document.querySelector(".popup__input_type_name"),ve=document.querySelector(".popup__input_type_job"),me=document.querySelector(".popup_add_place"),ye=document.querySelector(".popup__input_type_title"),be=document.querySelector(".popup__input_type_link"),we=document.querySelector(".elements"),_e=document.querySelector(".popup__cards-image"),Se=document.querySelector(".popup_photo_cards"),ke=document.querySelector(".popup__cards-text"),ge=function(e,t){_e.src=e.src,_e.alt=t.textContent,ke.textContent=t.textContent,qe(Se)};function Ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"append",r=t.link,i=t.name,o=new k({name:i,link:r,openPopupCards:ge},"#cards").createCard();switch(n){case"append":e.append(o);break;case"prepend":e.prepend(o)}}function qe(e){e.classList.add("popup_opened"),document.addEventListener("keydown",We)}function Ce(e){document.removeEventListener("keydown",We),e.classList.remove("popup_opened")}function We(e){"Escape"===e.key&&Ce(document.querySelector(".popup_opened"))}ae.addEventListener("click",(function(){he.value=ue.textContent,ve.value=se.textContent,qe(fe),je.resetValidation()})),pe.addEventListener("click",(function(){return Ce(fe)})),de.addEventListener("click",(function(){return Ce(me)})),fe.addEventListener("submit",(function(e){e.preventDefault(),ue.textContent=he.value,se.textContent=ve.value,Ce(fe)})),le.addEventListener("click",(function(){ye.form.reset(),be.form.reset(),qe(me),xe.resetValidation()})),me.addEventListener("submit",(function(e){e.preventDefault(),Ee(we,{name:ye.value,link:be.value},"prepend"),Ce(me),e.target.reset()})),ce.addEventListener("click",(function(){return Ce(Se)})),oe.forEach((function(e){e.addEventListener("mousedown",(function(e){(e.target.classList.contains("popup_opened")||e.target.classList.contains("popup__close"))&&Ce(e.target)}))})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){Ee(we,e)}));var Le={formSelector:".popup__container",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button-color",inputErrorClass:"popup__input_type_error"},je=new X(Le,fe);je.hangHandlerSubmit();var xe=new X(Le,me);xe.hangHandlerSubmit()})();